APP_PASSWORD=
DATABASE_URL="file:prisma/dev.db"

# CCXT Exchange Integration
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
APP_ENCRYPTION_KEY=

# Optional: Enable sandbox/testnet mode for exchanges
CCXT_SANDBOX_MODE=false

# Cron auth token for /api/cron/ccxt/sync
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
CCXT_CRON_SYNC_TOKEN=
CCXT_DEFAULT_QUOTE=USDT
CCXT_SYNC_LOOKBACK_DAYS=90
# Auto refresh trade sync window (used by /api/prices/refresh)
CCXT_AUTO_TRADE_LOOKBACK_HOURS=24
CCXT_AUTO_TRADE_OVERLAP_MINUTES=15
CCXT_BINANCE_DEFAULT_TYPE=spot
# Binance market segments to sync for trade import.
# Futures-like segments (future/delivery/swap) are imported as tx_type=HEDGE by default.
CCXT_BINANCE_TRADE_TYPES=spot,margin,future
# Optional cap for markets scanned per profile during trade sync (0 = no cap).
CCXT_SYNC_MAX_MARKETS_PER_PROFILE=0
# Per-request trade page size for fetchMyTrades pagination.
CCXT_SYNC_TRADE_PAGE_LIMIT=200
# Max pages fetched per symbol/profile during one sync run.
CCXT_SYNC_TRADE_MAX_PAGES_PER_SYMBOL=5
# For derivatives profiles, include all quote currencies by default.
# Set true to only scan markets matching CCXT_DEFAULT_QUOTE.
CCXT_DERIVATIVES_DEFAULT_QUOTE_ONLY=false
# Wallet segments to include during Binance balance reconciliation
# Includes spot balances plus futures wallet collateral (walletBalance only, excludes unrealized PnL).
# Add others only if needed (e.g. spot,future,margin or spot,untyped).
CCXT_BINANCE_BALANCE_TYPES=spot,future
# Ignore Binance balances whose estimated USD value is below this threshold.
CCXT_BINANCE_MIN_USD_VALUE=1
CCXT_BYBIT_DEFAULT_TYPE=spot

# Optional: Cron runner defaults (used by scripts/cron/run-ccxt-sync.sh)
# Keep these in your server env file (for example /etc/tiequan-pnl-webapp.env).
CCXT_SYNC_ENDPOINT_URL=
CCXT_SYNC_AUTH_HEADER=
CCXT_SYNC_ACCOUNT_ID=
CCXT_SYNC_EXCHANGE=
CCXT_SYNC_MODE=trades

# Proxy defaults for CEX integrations (recommended)
# In US-hosted environments, CEX APIs are often geo-blocked. Set this once for all CEX.
CCXT_CEX_PROXY_URL=http://216.238.71.15:2184

# Optional overrides (priority high -> low):
# 1) CCXT_<EXCHANGE>_PROXY_URL / _HTTPS_PROXY / _HTTP_PROXY
# 2) CCXT_CEX_PROXY_URL / _HTTPS_PROXY / _HTTP_PROXY
# 3) CCXT_PROXY_URL / _HTTPS_PROXY / _HTTP_PROXY
# 4) CCXT_PROXY_HOST + CCXT_PROXY_PORT
CCXT_BINANCE_PROXY_URL=
CCXT_BYBIT_PROXY_URL=
CCXT_BINANCE_HTTPS_PROXY=
CCXT_BINANCE_HTTP_PROXY=
CCXT_BYBIT_HTTPS_PROXY=
CCXT_BYBIT_HTTP_PROXY=
CCXT_CEX_HTTPS_PROXY=
CCXT_CEX_HTTP_PROXY=
CCXT_PROXY_URL=
CCXT_HTTPS_PROXY=
CCXT_HTTP_PROXY=
CCXT_PROXY_HOST=
CCXT_PROXY_PORT=

# TradeStation OAuth / API
TRADESTATION_CLIENT_ID=
TRADESTATION_CLIENT_SECRET=
# Can be either the full callback route OR (if TradeStation only allows localhost roots) the site root.
# Examples:
#   http://localhost:3000/api/tradestation/auth/callback
#   http://localhost:3000
TRADESTATION_REDIRECT_URI=
# Defaults to https://api.tradestation.com
TRADESTATION_BASE_URL=http://localhost:1373/api/tradestation/auth/callback
# Space-separated scopes
# Example: "openid offline_access profile MarketData ReadAccount Trade"
TRADESTATION_SCOPE="openid offline_access profile MarketData ReadAccount Trade"

# Finnhub API key for equity price fetching
FINNHUB_API_KEY=

# CoinGecko API key for crypto price fetching (free tier: 30 calls/minute)
# Get your free API key from: https://www.coingecko.com/en/api/documentation
COINGECKO_API_KEY=

# AWS S3 Backup Configuration
S3_BUCKET_NAME=your-s3-bucket-name
S3_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key

# Backup Schedule (cron pattern)
# Default: Daily at 2 AM
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=60